// Module Name: _pessto_forms
// Author: Dave Young
// Date created: March 11, 2013
// Summary: Some custom pessto marshall form functions

function search_form_validation() {

    $(this).keypress(function(event) {
        if(event.keyCode == 10 || event.keyCode == 13) {
            event.preventDefault();
        }
    });

    var thisInput = $(this);

    thisInput.keyup(function(event) {
        if((event.keyCode == 10 || event.keyCode == 13)) {
            var searchValue = thisInput.val();
            var thisUrl = window.location.pathname;
            var newUrl = thisUrl + '?bi=all&search=' + searchValue;
            window.location.href = newUrl;
        }
    });
}
